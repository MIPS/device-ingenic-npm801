
Building Android
================
1. Initialize the environment with the envsetup.sh script:
    $ . build/envsetup.sh
    $ export TOP=`pwd`

2. Choose target:
    $ lunch aosp_npm801-userdebug

3. Build everything.
    $ make -j24

Installing bootloader (U-Boot)
=============================

You will need to install U-Boot SPL if the device does not have a fastboot
capable bootloader installed or the U-Boot SPL version has changed.

1. Connect the device to PC by USB cable and plug charger into the device.

2. Put device into USB-Boot mode by pressing both Vol+ and reset at
   the same time. Keep Vol+ pressed for approximately 2 seconds. Note
   that the screen will remain blank in this mode.

3. Check that the device has entered USB boot mode correctly using
   'lsusb'. The device should show up as:
       Bus ??? Device ???: ID a108:4780

5. Update U-Boot SPL:
   $ cd $TOP/device/ingenic/npm801/sdcardinstaller/u-boot
   $ ./update-bootloader.sh


Flashing Android to device
==========================

U-Boot SPL is the only component installed into NAND. All other components
will be located on the SD card.
This procedure is only usable when you already have a functional Android running
on the tablet and the latest U-Boot version. Additionally, if partition sizes
on the tablet's SD card do not match sizes of the partitions that you want to
flash, then you will also have to use "Flashing Android to SD card" procedure.

1. Connect the device to PC by USB cable and plug charger into the device.

2. Run the script for flashing Android to the device
    $ cd $TOP/device/ingenic/npm801/sdcardinstaller
    $ ./fastboot-flash-all

The fastboot process takes approximately 6 minutes.

Flashing Android to SD card
========================================

This procedure is usable in all cases.
Please make sure that you have the latest U-Boot version before
going further.

1. Install SD card into reader. Make note of which Linux device represents
   the SD card. On my system it's /dev/sde. You'll need to adjust the
   instructions in this section to match the SD card device on your system.

2. $ cd $TOP/device/ingenic/npm801/sdcardinstaller

3. $ sudo dd if=/dev/zero of=/dev/sdX bs=512 count=1

   This step may not be needed. Typically, it's needed only if the SD
   card was previously formatted for use as VFAT device. In any case,
   running this extra step doesn't hurt anything.

4. $ ./mksdcard /dev/sdX

5. Install SD card into tablet.

6. Press the reset button
